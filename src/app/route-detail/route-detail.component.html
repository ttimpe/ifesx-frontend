<!-- route-detail.component.html -->

<div *ngIf="route">
  <h2>Edit Route {{ route.route_id }} Details</h2>

  <form>
    <!-- Example: Direction -->
    <div class="form-group">
      <label for="direction">Direction:</label>
      <select name="direction" id="direction" [(ngModel)]="route.direction" class="form-control">
      <option value="Z">Z</option>
      <option value="H">H</option>
      <option value="R">R</option>

      </select>
    </div>

     <!-- Example: Stops -->
     <div class="form-group" *ngIf="route">
      <label>Stops:</label>
      <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
      <button class="btn btn-success"><fa-icon [icon]="faPlus"></fa-icon></button>
      <button class="btn btn-primary" (click)="moveSelectedStopUp()" [disabled]="selectedRow == route.stops[0]"><fa-icon [icon]="faArrowUp"></fa-icon></button>
      <button class="btn btn-primary" (click)="moveSelectedStopDown()" [disabled]="selectedRow == route.stops[route.stops.length - 1]"><fa-icon [icon]="faArrowDown"></fa-icon></button>
      <button class="btn btn-danger" (click)="removeSelectedStop()" [disabled]="!selectedRow"><fa-icon [icon]="faTrash"></fa-icon></button>

</div>
      <ngx-datatable class="bootstrap container striped"[rows]="route.stops" columnMode="force" [headerHeight]="40" [footerHeight]="50" [rowHeight]="'auto'" [selectionType]="selectionType" [selected]="selectedRow" (select)="onSelected($event)">
        <ngx-datatable-column name="Stop ID">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{ row.id }}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Stop Name" prop="name"></ngx-datatable-column>
        <ngx-datatable-column name="Position" prop="sequence_number"></ngx-datatable-column>
        <!-- Add additional columns as needed -->

      </ngx-datatable>
    </div>


<div class="form-group">
  <label for="stopSelect">Select Stop:</label>
  <div class="live-select">
    <input type="text" id="stopSearch" [(ngModel)]="stopSearchTerm" (input)="searchStops()" name="stopSearch" placeholder="Type to search stops">

    <div class="dropdown-menu">
      <button class="dropdown-item" type="button" *ngFor="let stop of availableStops">{{ stop.name }}</button>

    </div>
  </div>


</div>
    <!-- Button to add stop to the route -->
    <button type="button" class="btn btn-success" (click)="addStopToRoute()">Add Stop to Route</button>

    <!-- Add buttons for adding/removing stops, and reordering them -->

    <button type="submit" class="btn btn-primary">Save Changes</button>
  </form>
</div>
